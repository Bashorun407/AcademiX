
1. Independent Tables
CREATE TABLE classroom (
    id SERIAL PRIMARY KEY,
    room_number VARCHAR(255),
    capacity INT
);

CREATE TABLE department (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255)
);

2. Tables inheriting from Person (@MappedSuperclass)
CREATE TABLE guardian (
    id SERIAL PRIMARY KEY,
    first_name VARCHAR(255) NOT NULL,
    last_name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE,
    profession VARCHAR(255)
);

CREATE TABLE student (
    id SERIAL PRIMARY KEY,
    first_name VARCHAR(255) NOT NULL,
    last_name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE,
    student_reg_number VARCHAR(255),
    date_of_birth DATE,
    guardian_id INT REFERENCES guardian(id)
);

CREATE TABLE teacher (
    id SERIAL PRIMARY KEY,
    first_name VARCHAR(255) NOT NULL,
    last_name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE,
    employee_id VARCHAR(255),
    department_id INT REFERENCES department(id)
);

3. Dependent Tables (Foreign Keys)
CREATE TABLE course (
    course_code VARCHAR(255) PRIMARY KEY,
    title VARCHAR(255),
    credit_units INT,
    department_id INT REFERENCES department(id)
);

CREATE TABLE attendance (
    id SERIAL PRIMARY KEY,
    date DATE,
    status VARCHAR(255), -- Using String for the Enum mapping
    student_id INT REFERENCES student(id)
);

CREATE TABLE enrollment (
    id SERIAL PRIMARY KEY,
    enrollment_date DATE DEFAULT CURRENT_DATE,
    student_id INT REFERENCES student(id),
    course_id VARCHAR(255) REFERENCES course(course_code)
);

CREATE TABLE fee (
    id SERIAL PRIMARY KEY,
    amount NUMERIC(19, 2), -- BigDecimal mapped to Numeric
    is_paid BOOLEAN,
    due_date DATE,
    student_id INT REFERENCES student(id)
);